using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using System;
using System.IO;
using System.Text;
using UnityEngine.UI;
public class TextScript : MonoBehaviour
{
     string InputText;
    string desktoppath;
    string filename;
    public GameObject filenameObject;
    string path;

    private void Start()
    {
        desktoppath = Environment.GetFolderPath(Environment.SpecialFolder.Desktop);
        if (!Directory.Exists(desktoppath + "\\unitytextdocs"))
        {
            var folder = Directory.CreateDirectory(desktoppath+"\\unitytextdocs");
        }
            
        desktoppath = desktoppath + "\\unitytextdocs";
        
    }

    public void WritetoDocument()
    {

         path = @desktoppath + "\\" + filename + ".txt";
        if (!File.Exists(path))
        {
            File.Create(path).Dispose();
            TextWriter tw = new StreamWriter(path);
            tw.WriteLine(InputText);
            tw.Close();
            GetComponent<InputField>().text = "";
        }
        else if (File.Exists(path))
        {
            using (var tw = new StreamWriter(path, true))
            {
                tw.WriteLine(InputText);
                GetComponent<InputField>().text = "";
            }
        }

    }

    private void Update()

    {

        
        InputText = GetComponent<InputField>().text;
        filename = filenameObject.GetComponent<InputField>().text;
        
    }
}

